import system from"/static/html/components/component_modules/system/system.mjs";let listener={func:{},this:{}};listener.this.style={},listener.this.card={},listener.this.editor={},listener.this.template={},listener.func.crop=async function(e){return listener.this.system=await system.init(e),listener.this.system.func},listener.listen=async function(e,t){e.addEventListener("click",e=>{})},listener.func.editor=async function(e){let t=[];function n(e){t=e}function s(){return t}return e.this.querySelector(".createObject").addEventListener("click",t=>{console.log("~~~~~~~~~~~editor~create~~~~~~~~~~~~~~~~",t.target),listener.this.editor=listener.func.createObject(e,t),listener.this.editor.then(e=>{for(let t=0;t<e.this.querySelectorAll("section").length;t++)"edit"===e.this.querySelectorAll("section")[t].slot&&(e["listener-create"].slot="edit",e.this.querySelectorAll("section")[t].slot=""),"view"===e.this.querySelectorAll("section")[t].slot&&(e.this.querySelectorAll("varan-crop")[0].slot="view",e.this.querySelectorAll("section")[t].slot="")})}),e.this.addEventListener("keydown",e=>{!0===e.ctrlKey&&("c"===e.key&&n(document.documentElement.scrollTop),"v"===e.key&&n(document.documentElement.scrollTop))}),e.this.addEventListener("keypress",e=>{"v"===e.key&&n(-1)}),e.this.addEventListener("keyup",e=>{if(!0===e.ctrlKey){if(e.key,"v"===e.key){let e=s();e+=100,document.documentElement.scrollTop=e}}else if("v"===e.key&&-1!==s()){let e=s();e+=100,document.documentElement.scrollTop=e}}),e},listener.func.template=function(e){return new Promise(function(t,n){listener.this.template=`/static/html/components/${e.component}/template/create/${e.slot.split("-")[1]}/${e.slot.split("-")[2]}.html`,console.log("~~~~~~~template~~~~~~~~~~",listener.this.template),fetch(listener.this.template).then(function(e){if(e.ok)return e.text()}).then(function(e){let n=(new DOMParser).parseFromString(e,"text/html");listener.this.template=n.getElementsByTagName("template")[0].content.cloneNode(!0),t(listener.this.template)}).catch(e=>e)})},listener.func.style=function(e){return new Promise(function(t,n){listener.this["style-path"]=`@import '/static/html/components/${e.component}/template/create/${e.slot.split("-")[1]}/${e.slot.split("-")[2]}.css';`,t(listener.this["style-path"])})};let init=async function(e){return listener};export default{init:e=>init(e)};