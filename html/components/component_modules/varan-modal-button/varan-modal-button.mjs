let timeStamp=0;function once(e){timeStamp=e,once=function(e){return e}}export default(e,t,...s)=>new Promise(function(a,n){let o=e=>{console.log("~~~ err  ~~~",e),n(e)};switch(t){case"set":(async(e,n,i)=>{try{switch(console.log(`app(${t}[(${e.input})${e[n]}]property)`),e[n]){case"addEventListener":(async(e,t,s)=>{try{var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(e){}e.this.addEventListener("click",t=>{let s={};if(once(t.timeStamp),(t.timeStamp-timeStamp>160||t.timeStamp-timeStamp==0)&&("button xlarge circle black"===t.target.getAttribute("class")||"btn btn-primary"===t.target.getAttribute("class"))){e.this.querySelector(".button").style.backgroundColor="black",e.this.querySelector(".button").disabled=!1;if("view"===e.this.getAttribute("mode"))e.this.setAttribute("mode","edit"),e.parent||console.assert(!1,"Установите obj[parent]",e),e.this.getElementsByTagName("p")[1].style.display="block",e.this.getElementsByTagName("p")[0].style.display="block",t.target.style.backgroundColor="#62bcd7",t.target.disabled=!0,s=new CustomEvent("mode",{detail:{mode:"edit",slot:e.parent}}),document.dispatchEvent(s);else{switch(e.parent||console.assert(!1,"Установите obj[parent]",e),e.this.setAttribute("mode","view"),e.this.getElementsByTagName("p")[0].className){case"view":e.this.getElementsByTagName("p")[0].style.display="block";break;case"edit":e.this.getElementsByTagName("p")[0].style.display="none";break;default:console.assert(!1,"неизвестный тип")}switch(e.this.getElementsByTagName("p")[1].className){case"view":e.this.getElementsByTagName("p")[1].style.display="block";break;case"edit":e.this.getElementsByTagName("p")[1].style.display="none";break;default:console.assert(!1,"неизвестный тип")}t.target.style.backgroundColor="#62bcd7",t.target.disabled=!0,s=new CustomEvent("mode",{detail:{mode:"none",slot:e.parent}}),document.dispatchEvent(s)}}timeStamp=t.timeStamp,setTimeout(function(){e.this.querySelector(".button").style.backgroundColor="black",e.this.querySelector(".button").disabled=!1;let t={},s=e.this.querySelectorAll("slot");for(let e=0;e<s.length;e++)if(0===s[e].length);else if(0===s[e].assignedNodes().length);else for(let a=0;a<s[e].assignedNodes().length;a++)switch(s[e].assignedNodes()[a].tagName){case"VARAN-CROP":t=s[e].assignedNodes()[a].parentNode;break;case"DIV":case"SECTION":"VARAN-EDITOR"===t.tagName||(t=s[e].assignedNodes()[a].parentNode);break;default:console.log("!!!!!!!!!!!!!!!!!!!!!",s[e].assignedNodes()[a].tagName)}t=t.querySelector(".preloader"),"view"===e.this.getAttribute("mode")?t.classList.contains("done")&&t.classList.remove("done"):t.classList.contains("done")||t.classList.add("done")},3e3)}),e.this.addEventListener("touchstart",e=>{},!!n&&{passive:!0}),(e=>{console.log("~~~ out  ~~~"),a(e)})(e)}catch(e){o(e)}})(e,s[0],s[1],s[2],s[3]);break;default:o(`new type [(${t})${e[n]}]`)}}catch(e){o(e)}})(e,s[0],s[1],s[2],s[3]);break;default:o(`new function ${t}`)}});