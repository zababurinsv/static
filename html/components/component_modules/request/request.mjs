import staticProperty from"/static/html/components/component_modules/staticProperty/staticProperty.mjs";import waves from"/static/html/components/component_modules/waves/waves.mjs";import matcher from"/static/html/components/component_modules/matcher/matcher.mjs";export default async(t,e,...o)=>{bundle.default(t,null,async function(a,s){return new Promise(async function(a,s){let r=t=>{a(t)},c=t=>{console.log("~~~ err router ~~~",t),s(t)};switch(e){case"change":(async(t,a,s,l)=>{try{switch(t[a]){case"router":(async(t,e,o)=>{try{await staticProperty({input:"action",type:"all"},"get","type");switch(t.pathname){case"/":for(let e=0;e<t.manifest.length;e++)"lacerta-gallery"===t.manifest[e].name?t.manifest[e].style.display="none":"varan-header"===t.manifest[e].name||(t.manifest[e].style.display="flex");break;case"/about":for(let e=0;e<t.manifest.length;e++)window.scrollTo({top:0,behavior:"smooth"});break;case"/gallery":let e=t.store["varan-gallery"][0].this.shadowRoot.querySelector("section");t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!1,e.scrollIntoView({block:"start",behavior:"smooth"});break;case"/photo":let o=t.store["lacerta-gallery"][0].this.shadowRoot.querySelector("details");o.open=!0,t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!1,o.scrollIntoView({block:"start",behavior:"smooth"});break;case"/news":let a=t.store["lacerta-news"][0].this.shadowRoot.querySelector("section");t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!1,a.scrollIntoView({block:"start",behavior:"smooth"});break;case"/request":t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!0,t.store["lacerta-request"][0].this.shadowRoot.querySelector("section").scrollIntoView({block:"start",behavior:"smooth"});break;case"/documents":t.store["lacerta-documents"][0].this.shadowRoot.querySelector("section").scrollIntoView({block:"start",behavior:"smooth"}),t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!1;break;case"/contact":t.store["varan-contact"][0].this.shadowRoot.querySelector("section").scrollIntoView({block:"start",behavior:"smooth"}),t.store["lacerta-request"][0].this.shadowRoot.querySelector("details").open=!1;break;case"/login":let s=await waves({input:"request",type:"login",data:{data:"Auth on my  site"}},"auth","type");!0===s.mongo?(document.location.href="http://localhost:8888/admin",r(s.mongo)):(document.body.innerHTML="",document.body.insertAdjacentHTML("afterbegin",`${s.mongo}`),r(s.mongo));break;default:console.error("неизвестный путь",t.pathname)}}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;case"default":(async(t,e,o)=>{try{fetch(`${l}${t[e]}`).then(function(t){if(t.ok)return t.text()}).then(function(t){$("body").append('<script>function __ssr(){var a=document.currentScript.previousElementSibling,b=a.firstElementChild;a.removeChild(b);for(var c=a.attachShadow({mode:"open"});b.hasChildNodes();)c.appendChild(b.firstChild);}<\/script><x-hello><shadow-root><span>Hello, <x-yell><shadow-root><strong><slot></slot></strong></shadow-root><slot></slot></x-yell><script>__ssr()<\/script>!</span></shadow-root>World</x-hello><script>__ssr()<\/script>')}).catch(t=>t)}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;default:c(`новая функция ${e}`)}}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;case"post":(async(t,a,s)=>{try{switch(t[a]){case"form":(async(t,e,o)=>{try{let e=await matcher.webdav({input:"request",data:t.data,type:"request"},"set","type");e.mongo.data=t.data.file;let o=await matcher.email({input:"request",data:e.mongo,type:"request"},"set","type");r(o)}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;default:c(`new type [(${e})${t[a]}]`)}}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;default:c(`новая функция ${e}`)}})})};