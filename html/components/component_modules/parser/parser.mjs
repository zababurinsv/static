import matcher from"/static/html/components/component_modules/matcher/matcher.mjs";import tick from"/static/html/components/component_modules/lacerta-tick/lacerta-tick.mjs";import utils from"/static/html/components/component_modules/utils/utils.mjs";Object.keys||(Object.keys=function(t){if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n});let parser={this:{}};parser.this.tag=[],parser.this.tag.in=[],parser.this.tag.out=[],parser.this.tag.push("div"),parser.this.tag.push("section"),parser.this.tag.push("style"),parser.this.tag.push("script"),parser.this.tag.push("varan-editor"),parser.this.tag.in.push("&lt;div"),parser.this.tag.in.push("&lt;/div"),parser.this.tag.in.push("&lt;style"),parser.this.tag.in.push("&lt;/style"),parser.this.tag.in.push("&lt;section"),parser.this.tag.in.push("/section&gt;"),parser.this.tag.in.push("&lt;article"),parser.this.tag.in.push("/article&gt;"),parser.this.tag.in.push("&lt;time"),parser.this.tag.in.push("/time&gt;"),parser.this.tag.in.push("&lt;/script"),parser.this.tag.in.push("&lt;script"),parser.this.tag.out.push("&lt;p"),parser.this.tag.out.push("&lt;/p"),parser.this.tag.out.push("&lt;style"),parser.this.tag.out.push("&lt;/style"),parser.this.tag.out.push("&lt;section"),parser.this.tag.out.push("/section&gt;"),parser.this.tag.out.push("&lt;article"),parser.this.tag.out.push("/article&gt;"),parser.this.tag.out.push("&lt;time"),parser.this.tag.out.push("/time&gt;");export default(t,e,...n)=>new Promise(function(s,o){let r=t=>{console.log("~~~ err  ~~~",t),o(t)};switch(e){case"set":(async(t,o,a)=>{try{switch(console.log(`app(${e}[(${t.input})${t[o]}]property)`),t[o]){case"editor":(async(t,e,n)=>{try{console.log(`${t.input}[(parser)${t[e]}]`);let n=await utils({input:"parser",this:t.this},"getType");t.typeEditor=n;for(let e=0;e<t.typeEditor.length;e++)switch(t.typeEditor[e]){case"text":colorLog("~~~~~~~~~~~~~set (wall).innerHTML)~~~~~~~~~~~~","info",component),t.upload={},t.this.querySelector(".wall").innerHTML="",t.this.querySelector(".wall").innerHTML=component.content,matcher.database.request.functions.getObject(t).then(t=>{if(colorLog("~~~~~~~~~~~~~set (wall).innerHTML)~~~~~~~~~~~~","info",t),t.get){colorLog("~~~~~~~~~~~~~set (wall).innerHTML)~~~~~~get~~~~~~","info",t);let e={};e=t.slot?t.slot:t.parent,t.upload={};for(let n=0;n<t.get_n.length;n++)t.upload=t.get_n[n],t.upload[e].content=component.content,t.upload[e]["edit-delta"]=component["edit-delta"],matcher.database.request.functions.updImage(t)}else t.upload=component,t.upload.content=component.content,matcher.database.request.functions.setImages(t).then(t=>{})});break;case"slider-one-text":t.upload=null,matcher.database.request.functions.getObject(t).then(t=>{if(t.get){let e={};e=t.slot?t.slot:t.parent;let n=t.slider.getCurrentPos(),s=[];for(let n=0;n<t.get_n.length;n++)s.push(t.get_n[n][e]["view-slider-pos"]);s.sort(function(t,e){return t-e});for(let o=0;o<t.get_n.length;o++)t.get_n[o][e]["view-slider-pos"]===s[n]&&(t.get_n[o][e].content=component.content,t.get_n[o][e]["edit-delta"]=component["edit-delta"],t.upload=t.get_n[o]);t.get=null,t.get_n=null,matcher.database.request.functions.updImage(t).then(t=>{t.upload=null,t.update=null,null===t.this.querySelector(".peppermint-slides")?(colorLog(`~~~~~~['functions']['updImage']~~~~~  ${component.content}`,"info",component.content),t.this.querySelector(".ql-view").innerHTML=component.content):(colorLog(`~~~~~~['functions']['updImage']~~~slider~~  ${component.content}`,"info",component.content),t.this.querySelector(".peppermint-slides").children[t.slider.getCurrentPos()].innerHTML=component.content)})}else t.upload=component,t.upload.content=component["edit-content"],matcher.database.request.functions.setImages(t).then(t=>{null===t.this.querySelector(".peppermint-slides")?t.this.querySelector(".ql-view").innerHTML=component.content:t.this.querySelector(".peppermint-slides").children[t.slider.getCurrentPos()].innerHTML=component.content})});break;default:for(t.upload={};t.this.querySelector(".wall").lastChild;)t.this.querySelector(".wall").removeChild(t.this.querySelector(".wall").lastChild);t.this.querySelector(".wall").insertAdjacentHTML("beforeend",t.component.content)}(t=>{console.log("~~~ out  ~~~"),s(t)})(t)}catch(t){r(t)}})(t,n[0],n[1],n[2],n[3]);break;default:r(`new type [(${e})${t[o]}]`)}}catch(t){r(t)}})(t,n[0],n[1],n[2],n[3]);break;default:r(`new function ${e}`)}});