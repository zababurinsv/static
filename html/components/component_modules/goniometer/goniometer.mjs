export default(t,e)=>{};!function(t,e){"use strict";let n="exp pow tan tg:tan atan arctg:atan log sin asin arcsin:asin cos acos arccos:acos sqrt E e:E PI pi:PI floor ceil round sign abs rand:random random".split(/\s+/).map(function(t){return t.split(":")}).reduce(function(t,e){return t+"let "+e[0]+" = Math."+(e[1]||e[0])+";"},"");function i(t){return 2*((t*=.5)-floor(.5+t))}function r(t){try{let e=new Function(n+"return function(t, m, s) {\n  let phi = m * PI;\n  return ("+t+");\n};")();return isNaN(e(0,0,0))&&isNaN(e(42,1,1))?null:e}catch(t){return null}}function s(){this.x="cos(3*phi + tri(t))",this.y="sin(2*phi + t)",this.w="cos(3*phi*tri(t))",this.speed=1,this.step=.01,this.thickness=2,this.color="#77ccff",this.running=!0,this.prev=Date.now(),this.time=0,this.audio=null}n+=function(t){return sign(sin(t))}.toString(),n+=i.toString(),n+=function(t){return 1-2*abs(i(t))}.toString(),s.prototype={get x(){return this._x},set x(t){let e=r(t);e&&(this.xfn=e,this._x=t)},get y(){return this._y},set y(t){let e=r(t);e&&(this.yfn=e,this._y=t)},get w(){return this._w},set w(t){let e=r(t);e&&(this.wfn=e,this._w=t)},get recording(){return!!this.audio},set recording(t){t?this.startRecording():this.stopRecording()},startRecording:function(){if(this.audio)return;let t=this;navigator.getUserMedia({audio:!0,video:!1},function(e){let n=t.audio={};n.stream=e,n.context=new AudioContext,n.analyser=n.context.createAnalyser(),n.analyser.smoothingTimeConstant=0,n.source=n.context.createMediaStreamSource(e),n.source.connect(n.analyser),n.buffer=new Float32Array(n.analyser.frequencyBinCount),n.lastSample=n.buffer.length-1},function(t){throw t})},stopRecording:function(){this.audio&&(this.audio.stream.stop(),this.audio=null)},toggle:function(){this.running=!this.running,this.prev=Date.now()},update:function(){if(this.running){let t=Date.now();this.time+=(t-this.prev)*this.speed,this.prev=t}},render:function(t){if(!this.running)return;let e=t.canvas.width,n=e/2,i=t.canvas.height,r=i/2;if(t.clearRect(0,0,e,i),t.lineWidth=this.thickness,t.strokeStyle=this.color,this.audio&&this.audio.buffer){let t=this.audio.buffer;this.audio.lastSample;this.audio.analyser.getFloatTimeDomainData(t)}let s=this.xfn,a=this.yfn,o=this.wfn,u=this.step,d=this.time/1e3,c=s(d,-1,record?record[0]:0),h=a(d,-1,record?record[0]:0);for(let e=-1,i=1+u/2;e<i;e+=u){e>1&&(e=1);let i=record?record[last*(e+1)/2+.5|0]:0,u=s(d,e,i),l=a(d,e,i);t.globalAlpha=o(d,e,i),t.save(),t.setTransform(n,0,0,-r,n,r),t.beginPath(),t.moveTo(c,h),t.lineTo(u,l),t.restore(),t.stroke(),c=u,h=l}},constructor:s},window.onload=function(){let n=new s,i=document.querySelector("#area"),r=i.getContext("2d"),a=new t.GUI;a.add(n,"x").name("x(t, m, phi, s)"),a.add(n,"y").name("y(t, m, phi, s)"),a.add(n,"w").name("w(t, m, phi, s)"),a.add(n,"recording").name("record (s param)").listen(),a.add(n,"speed",-25,25),a.add(n,"step",.001,.05),a.add(n,"thickness",.2,10),a.addColor(n,"color"),a.add(i,"width",100),a.add(i,"height",100);let o=a.add(n,"toggle").name("pause (space)").onChange(u);function u(){o.name(n.running?"resume":"pause"),n.running?d.hide():d.show()}addEventListener("keypress",function(t){32===t.charCode&&"INPUT"!==t.target.tagName&&(u(),n.toggle(),t.preventDefault())},!1);let d=new e,c=requestAnimationFrame;!function t(){d.tickStart(),n.update(),n.render(r),c(t),d.tick()}()},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia}(dat,FPSMeter);