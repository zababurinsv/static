let t0 = 0
let t1 = 0
let t2 = 0
let t3 = 0
let t4 = 0
let queue = {}
queue['staticProperty'] = {}

function tickPromise (obj, type, count, end, preset) {
    console.assert(true, 'varan-editor', `
:----------------------------------------------------------------:::::::::**++=+*
----------------------------------::.----------------------------:::::::::**++==+
:-------------------------------:::****--------------------------:::::::::**+=++%
------------------------------::*------*+:----------------------:::::::::**++==++
:----------------------------***--------*:::--------------------::::::::*+==+==*+
:---------------------------*+:---------:++:---------------::--:::::***++=%=+*+++
---------------------------:**-----------------------:**+**::-:::******++======++
:--------------------------:+-------:%%%--------:::***+*++*+*********+*++++=+%+=%
:::--------*++:-----------:*+-------*%%@@::*:*:*:**%@+*++*+++*********:***+=+==%@
-:::::*::*++**:-----------:*+--::--:=%%@@@%+**+=@@@%%+*+++++****::::::::**+=++%%%
.::*+==+::+*++*-----------:*=::**+=*=%==%@@@@@@%%@%%--:::::::::::::::::***+=++%%%
--:*===+::::***------:-::***+*+*-*+=%@@@@#####@@%=%::*::.-:::::::::::::***+=++::+
---:===+:::+*::--::::**+:***==:-+=+=%@%%=@###@@@@@%++**-..-*:::::::::::**+++:::::
----*+**+****=++**++*+===**:%%=+*+*=@@#@@#@##@=%@@%%*-........-:::::::*+=+++::**:
----:=+*+++***++******.-*:**++:*-::*%@@@@@@@####@%%%%%-..........-*+++*--:+*:::::
----:==+**=:*:+*-.-:::::::**:::--**:*+=%@####@%%=+%%=%=------:+%@@%=:*++--+***:*+
-----*==*:::----....--..........******++======+++====%%*----+@#####@%-.---=:-***=
-----:==+:-..................-::+***:*++++==++++%%===%%=---:@@#=:%##@%-..-+::::++
------===*................--:::*+****++=====++=%@===%%%%---:#@+:%##@@*--..-::::+*
------:*-...............---:::********+=======@@%%%%%%%%:---:*@####@:---..---:*+:
-------...............----:::**==+++++=====%%@@@@@@@@@@+--=######@:-----..----+::
-----...............-----::::*+%@@%=====%%%%@@@@@@@@@@@=%#####@+-------...------:
..................-------:::**+%@#@@@%%%@@@@@@@@@@@@@@@@####%:---------..--------
.................--------:::**=@####@@@@@@%%%%%%@@@@@@@@@@@*:::----:--..--:+++*--
...............----------::::*=@###@@####%==%%%%%%%@@@@@@%::::::::::-...-:@@%=+++
..............-----------::::*%###@@@###@%=%%%%%%%%%%@@%*:::::::::-...--:@@@@@@@=
-............-------------:::*@##@@#####%==%%%%@%%%%%@*::::****::....--:@@@@@@###
:--.........---------------::=@@@==#####@@%%@@@@%%@%+:::**:**:-....---=##########
*::-........--------------:=####@*@###########@@%=*::****:::-....---*@###########
**::-......----------------=###@+=########%***::::***::::.....----*@#@###########
+**::-.....------------------:*:%####@=*::::::::::::--......----*%@##%@##########
++***:--...---------------------:*+++:--:::::::---......-----:=%@@@@#%%@#########
*+=++*::--..------------------------::::::----......------:+%@@@@@@@#@%%@##@#####
*%%%%%=::---....------------------------........-------:+%@@@@@@@@@@##@%%%%%@@###
%%%%%%%%+::---.........--------............--------:*=%@@@@@@@@@@@@@@############
%%%%%%%%%=+::------................-----------:*+=%@@@@@@@@@@@@@@@@@@@@@@#######%
@@@@%%%%%%%%=+*::-----------------------::*+==%%=@@@@@@@@@@@@@@@@@@@@@@@@@@@@#@=%
@@@@@%%%%%%%%%%%==+*::::::::::::::**+==%%%%%%%%%%@@@@@@@@#@@@@@@@@@@@@@@@@@@@@%=@
@@@@@%%%%%%%%%@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@###@@
    `, obj, obj['editor'])
    if (!obj['editor']['queue'][`${obj['slot']}`]['tick'][type]) { obj['editor']['queue'][`${obj['slot']}`]['tick'][type] = 0 }
    count = obj['editor']['queue'][`${obj['slot']}`]['tick'][type]
    return new Promise(function (resolve, reject) {
        if (type !== `xxxx`) {
            if (count === 0 && end !== 0) {
                t0 = performance.now()
                t2 = performance.now()
                console.log('_-_-_-_-_-_-_-_-_-_-_-_ ', 'type:', type, `state: 0`, 'count:', count, 'count:', count, ':', t0, '= 0 :ms')
            } else if (count === 1) {
                t1 = performance.now()
                t1 = (t1 - t0)
                console.log('_-_-_-_-_-_-_-_-_-_-_-_ ', 'type:', type, `state: 1`, 'count:', count, 'count:', count, ':', t1, ':ms')
                console.assert(true, `


                время => ${t1} ${t2}



                `)
            } else if (count === 2) {
                t2 = performance.now()
                t2 = (t2 - t0 - t1)
                console.log('_-_-_-_-_-_-_-_-_-_-_-_', 'type:', type, 'count:', count, 'count:', count, t2, ':ms')
                console.assert(true, `


                время => ${t1} ${t2} ${t0}



                `)
            } else if (count === end) {
                if (!preset || preset === 'default') {
                    t4 = t3 + t1 + t2 + t0
                    t3 = performance.now()
                    if (end === 0) t0 = t3
                    let all = t3 + t1 + t2
                    t3 = t3 - t4
                    resolve(console.assert(false, '_-_-_-_-_-_-_-_-_-_-_-_', 'type:', type, ';count:', count, ';time:', t3, ';:ms', 'All Time', all, 'ms', styles[3]`
                          _______
                           {___}
                           /   \\
                          |     |
                        ^{0}^|^{0}^
                          |     |
                          |-----|
                          |-----|
        ${obj}-------------     ---------------${count}
                        |_________|
            `))
                } else {
                    t4 = t3 + t1 + t2 + t0
                    t3 = performance.now()
                    let all = t3 - t0
                    t3 = t3 - t4
                    obj['tick']['data'] = {}
                    obj['tick']['data'][type] = {}
                    obj['tick']['data'][type]['type'] = type
                    obj['tick']['data'][type]['count'] = count
                    obj['tick']['data'][type]['time'] = t3
                    obj['tick']['data'][type]['preset'] = preset
                    obj['tick']['data'][type]['all'] = all
                    obj['tick']['data']['type'] = type
                    console.log('', obj['tick']['data'])
                    obj['editor']['queue'][`${obj['slot']}`]['tick'][type]++
                    resolve(obj)
                }
            } else {
                t4 = t3 + t1 + t2 + t0
                t3 = performance.now()
                t3 = t3 - t4
                let all = t3 + t1 + t2
                obj['editor']['queue'][`${obj['slot']}`]['tick'][type]++
                console.log('_-_-_-_-_-_-_-_-_-_-_-_', 'type:', type, 'count:', count, 'time:', t3, ':ms', 'All Time', all, 'ms')
            }
        } else {
            console.assert(false, 'tickPromise неизвестный тип', obj, type, end)
        }
    })
}
export default tickPromise
