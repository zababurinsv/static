$(document).ready(function(){let t=0,i=0,s=!1;class n{constructor(t,i,s,n){this.index="<span1>"+t+"</span1>",this.timestamp=i,this.data=s,this.previousHash=n,this.hash="<span2>"+this.calculateHash()+"</span2>"}calculateHash(){return sha256(this.index+this.timestamp+JSON.stringify(this.data)).toString().substring(0,15)}}let a=new class{constructor(){this.chain=[this.genesisBlock()]}genesisBlock(){return new n(t,(new Date).toLocaleString(),"Genesis Block")}getLast(){return this.chain[this.chain.length-1]}addBlock(t){t.previousHash="<span2>"+this.getLast().hash+"</span2>",t.hash=t.calculateHash(),this.chain.push(t),console.log(this.chain)}};$(document).keydown(function(t){13==t.keyCode&&$("#inputData").trigger("click")}),$("#inputData").click(function(){!function(){const i=$("#searchField").val();let s=new Date;t++,a.addBlock(new n(t,s.toLocaleString(),i)),console.log(JSON.stringify(a.chain,null,4))}(),i++,a.chain.forEach(function(t){$("#outputField").append("<div id='"+i+"' class='col-md-12 coin-board'></div>"),0==s&&1==i?($("#"+i).html(JSON.stringify(t,null,"<br/>").replace(/[{}"']/g,"")),i++,s=!0,$("#"+i).html(JSON.stringify(t,null,"<br/>").replace(/[{}"']/g,""))):i<4?$("#"+i).html(JSON.stringify(t,null,"<br/>").replace(/[{}"']/g,"")):i>3&&(i=0,i++)}),$("#searchField").val("")}),$("#Restart").click(function(){s=!1,t=0,a.chain=[a.genesisBlock()],$("#searchField").val(""),$("#outputField").html(""),i=0})});