import monopoly from"/static/html/components/component_modules/monopoly/monopoly.mjs";import mInterface from"/static/html/components/component_modules/monopoly/interface.mjs";import square from"/static/html/components/component_modules/monopoly/square.mjs";import classicedition from"/static/html/components/component_modules/monopoly/classicedition.mjs";import gameplay from"/static/html/components/component_modules/monopoly/gameplay.mjs";import typeScript from"/static/html/components/component_modules/type/typeScript.mjs";import ai from"/static/html/components/component_modules/monopoly/ai.mjs";import colorlog from"/static/html/components/component_modules/colorLog/colorLog.mjs";import monopolyObject from"/static/html/components/component_modules/monopoly/monopoly-object.mjs";export default{get:async(t,o,...n)=>new Promise(async(o,n)=>{function r(e){o(e)}switch(t.type){case"resetTrade":(async(e,t,o)=>{let n,l,a,d,c,i,p,s;t.currentSquare={},t.currentTableRow={},t.currentTableCell={},t.currentTableCellCheckbox={},t.nameSelect={},t.currentOption={},t.allGroupUninproved={},t.currentName={},console.assert(!1,t.this);let m=t.this.getElementById("trade-leftp-property"),u=t.this.getElementById("trade-rightp-property");for(t.tradeObj.currentInitiator=t.tradeObj.initiator,t.tradeObj.currentRecipient=t.tradeObj.recipient;m.lastChild;)m.removeChild(m.lastChild);for(;u.lastChild;)u.removeChild(u.lastChild);let y=document.createElement("table"),h=document.createElement("table");for(let o=0;o<40;o++){if((n=t.square[o]).house>0||0===n.groupNumber)continue;p=!0;let r=n.group.length;for(let e=0;e<r;e++)if(t.square[n.group[e]].house>0){p=!1;break}p&&(n.owner===e.initiator.index?((l=y.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="tradeleftcheckbox"+o,d.title="Check this box to include "+n.name+" in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.setAttribute("show",o),a.style.backgroundColor=n.color,1==n.groupNumber||2==n.groupNumber?a.style.borderColor="grey":a.style.borderColor=n.color,a.propertyIndex=o,a.onmouseover=async function(e){console.assert(!1,e.target.getAttribute("show")),await mInterface.get({type:"showdeed",property:e.target.getAttribute("show")},t)},a.onmouseout=function(e){t.this.querySelector("#deed").style.display="none"},(a=l.appendChild(document.createElement("td"))).className="propertycellname",n.mortgage&&(a.title="Mortgaged",a.style.color="grey"),a.textContent=n.name):n.owner===t.tradeObj.recipient.index&&((l=h.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="traderightcheckbox"+o,d.title="Check this box to include "+n.name+" in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.setAttribute("show",o),a.style.backgroundColor=n.color,1==n.groupNumber||2==n.groupNumber?a.style.borderColor="grey":a.style.borderColor=n.color,a.propertyIndex=o,a.onmouseover=async function(e){console.assert(!1),await mInterface.get({type:"showdeed",property:e.target.getAttribute("show")},t)},a.onmouseout=function(){t.this.querySelector("#deed").style.display="none"},(a=l.appendChild(document.createElement("td"))).className="propertycellname",n.mortgage&&(a.title="Mortgaged",a.style.color="grey"),a.textContent=n.name))}if(t.tradeObj.initiator.communityChestJailCard?((l=y.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="tradeleftcheckbox40",d.title="Check this box to include this Get Out of Jail Free Card in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.style.backgroundColor="white",a.style.borderColor="grey",(a=l.appendChild(document.createElement("td"))).className="propertycellname",a.textContent="Get Out of Jail Free Card"):t.tradeObj.recipient.communityChestJailCard&&((l=h.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="traderightcheckbox40",d.title="Check this box to include this Get Out of Jail Free Card in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.style.backgroundColor="white",a.style.borderColor="grey",(a=l.appendChild(document.createElement("td"))).className="propertycellname",a.textContent="Get Out of Jail Free Card"),t.tradeObj.initiator.chanceJailCard?((l=y.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="tradeleftcheckbox41",d.title="Check this box to include this Get Out of Jail Free Card in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.style.backgroundColor="white",a.style.borderColor="grey",(a=l.appendChild(document.createElement("td"))).className="propertycellname",a.textContent="Get Out of Jail Free Card"):t.tradeObj.recipient.chanceJailCard&&((l=h.appendChild(document.createElement("tr"))).addEventListener("click",tableRowOnClick),(a=l.appendChild(document.createElement("td"))).className="propertycellcheckbox",(d=a.appendChild(document.createElement("input"))).type="checkbox",d.id="traderightcheckbox41",d.title="Check this box to include this Get Out of Jail Free Card in the trade.",(a=l.appendChild(document.createElement("td"))).className="propertycellcolor",a.style.backgroundColor="white",a.style.borderColor="grey",(a=l.appendChild(document.createElement("td"))).className="propertycellname",a.textContent="Get Out of Jail Free Card"),y.lastChild?m.appendChild(y):m.textContent=t.tradeObj.initiator.name+" has no properties to trade.",h.lastChild?u.appendChild(h):u.textContent=t.tradeObj.recipient.name+" has no properties to trade.",t.this.getElementById("trade-leftp-name").textContent=t.tradeObj.initiator.name,s=t.this.getElementById("trade-rightp-name"),e.allowRecipientToBeChanged&&t.pcount>2){for(;s.lastChild;)s.removeChild(s.lastChild);c=s.appendChild(document.createElement("select"));for(let e=1;e<=t.pcount;e++)e!==t.tradeObj.initiator.index&&((i=c.appendChild(document.createElement("option"))).value=e+"",i.style.color=t.player[e].color,i.textContent=t.player[e].name,e===t.tradeObj.recipient.index&&(i.selected="selected"));c.onchange=async function(e){let o=parseInt(e.target.value,10);await mInterface.get({type:"getTrade"},t),t.tradeObj.recipient=t.player[o],t.tradeObj.currentRecipient=t.player[o],await gameplay.get({type:"resetTrade",initiator:t.tradeObj.currentInitiator,recipient:t.player[o],allowRecipientToBeChanged:!0},t)},c.title="Select a player to trade with."}else s.textContent=t.tradeObj.recipient.name;t.this.getElementById("trade-leftp-money").value="0",t.this.getElementById("trade-leftp-money").addEventListener("input",tableRowOnClickLeftp),t.this.getElementById("trade-rightp-money").value="0",t.this.getElementById("trade-rightp-money").addEventListener("input",tableRowOnClickLeftp),r(!0)})(t,n);break;case"monopoly":let o={},n={tradeObj:{},die1:null,die2:null,areDiceRolled:!1,auctionQueue:[],highestbidder:null,highestbid:0,currentbidder:1,auctionproperty:null,game:null};n.tradeObj.currentInitiator=null,n.tradeObj.currentRecipient=null,n.tradeObj.initiator=null,n.tradeObj.recipient=null,n.player=[],n.communityChestCards=[],n.chanceCards=[],n.square=[],n.pcount=null,n.turn=0,n.doublecount=0,n.bid=null,n.this=t.this.shadowRoot,n.checkedproperty=-1,o.cards={_:"cards",type:"default",communityChestCards:[],chanceCards:void 0},o.auction={_:"auction",type:"default",auctionQueue:[],highestbidder:void 0,highestbid:0,currentbidder:1,auctionproperty:void 0},o.trade={_:"trade",type:"default",currentInitiator:[],currentRecipient:void 0,initiator:void 0,recipient:void 0},o.button={_:"button",type:"default",items:["trade-leftp-money","trade-rightp-money"],methods:["onkeydown","onfocus","onchange"],actions:["tradeMoneyOnKeyDown","tradeMoneyOnFocus","tradeMoneyOnChange"],onkeydown:{_:"onkeydown","trade-leftp-money":void 0,"trade-rightp-money":void 0},onfocus:{_:"onfocus","trade-leftp-money":void 0,"trade-rightp-money":void 0},onchange:{_:"onfocus","trade-leftp-money":void 0,"trade-rightp-money":void 0},tradeMoneyOnKeyDown:async()=>{console.log("~~~~~~~ tradeMoneyOnKeyDown ~~~~ menu-game.mjs ~~~");let t=0,o=!1,n=!1;return window.Event?(t=window.Event.keyCode,o=window.Event.ctrlKey,n=window.Event.shiftKey):e&&(t=e.keyCode,o=e.ctrlKey,n=e.shiftKey),!!Number.isNaN(t)||13!==t&&(!!(8===t||9===t||46===t||t>=35&&t<=40||o)||!n&&(t>=48&&t<=57||t>=96&&t<=105))},tradeMoneyOnFocus:async()=>{console.log("~~~~~~~ tradeMoneyOnFocus ~~ menu-game.mjs ~~~~~"),this.style.color="black",(Number.isNaN(this.value)||"0"===this.value)&&(this.value="")},tradeMoneyOnChange:async e=>{console.log("~~~~~~~tradeMoneyOnChange~~~ menu-game.mjs ~~~~"),console.assert(!1,e),n.this.querySelector("#proposetradebutton").style.display="flex",n.this.querySelector("#canceltradebutton").style.display="flex",n.this.querySelector("#accepttradebutton").style.display="none",n.this.querySelector("#rejecttradebutton").style.display="none";let t=this.value;return Number.isNaN(t)?(this.value="This value must be a number.",this.style.color="red",!1):(t=Math.round(t)||0,this.value=t,!(t<0)||(this.value="This value must be greater than 0.",this.style.color="red",!1))}},o.property={_:"property",type:"default",die1:void 0,die2:void 0,areDiceRolled:!1,turn:void 0,doublecount:0,groupPropertyArray:[],groupNumber:{}},o.player={_:"player",player:[],items:["bank","player 1","player 2","player 3","player 4","player 5","player 6","player 7","player 8"],methods:["onkeydown","onfocus","onchange"],actions:["playernumber_onchange","tradeMoneyOnFocus","tradeMoneyOnChange"],addEventListener:["playernumber_onchange"],name:"the bank",type:"default",pcount:void 0,currentCell:0,currentCellAnchor:0,currentCellPositionHolder:0,currentCellName:0,currentCellOwner:0,jail:!1,cell:0};let l=await typeScript();l.button(!1,"monopoly/menu-game.mjs","2",{_:"button"},"button"),l.player(!0,"monopoly/menu-game.mjs","5",{_:"player"},"player"),r(o)}})};