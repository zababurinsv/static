import request from"/static/html/components/component_modules/request/request.mjs";import action from"/static/html/components/component_modules/action/action.mjs";import staticProperty from"/static/html/components/component_modules/staticProperty/staticProperty.mjs";export default async(t,e,...o)=>{bundle.default(t,null,async function(n,r){return new Promise(async function(n,a){let s=t=>{n(t)},c=t=>{console.log("~~~ err router ~~~",t),a(t)};switch(e){case"link":(async(t,n,a)=>{try{switch(console.log(`${e}[(${t.input})${t[n]}]`),t[n]){case"listener":(async(t,e,o)=>{try{let e=t.this.shadowRoot.querySelectorAll("a"),o=r.history.createBrowserHistory();o.location;for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(t){t.preventDefault();let e=t.currentTarget.href;e=e.replace(window.location.origin,""),o.push(e,{some:"state"})});o.listen(async(t,e)=>{let o=await staticProperty({input:"router",type:"all"},"get","type"),n=await action({input:"router",type:"manifest"},"get","type");request({input:"router",pathname:t.pathname,location:window.location.origin,state:t.state,type:"router",manifest:n,store:o,description:"change-manifest "},"change","type"),s({request:"true"})})}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;case"default":(async(t,e,o)=>{try{s(t)}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;default:c(`новая функция ${e}`)}}catch(t){c(t)}})(t,o[0],o[1],o[2],o[3]);break;default:c(`новая функция ${e}`)}})})};