export default{function(){var e=document.getElementById("thefile"),t=document.getElementById("audio");e.onchange=function(){var e=this.files;t.src=URL.createObjectURL(e[0]),t.load(),t.play();var n=new AudioContext,i=n.createMediaElementSource(t),a=n.createAnalyser(),o=document.getElementById("canvas");o.width=window.innerWidth,o.height=window.innerHeight;var r=o.getContext("2d");i.connect(a),a.connect(n.destination),a.fftSize=256;var c=a.frequencyBinCount;console.log(c);var l,d=new Uint8Array(c),f=o.width,u=o.height,y=f/c*2.5,g=0;t.play(),function e(){requestAnimationFrame(e),g=0,a.getByteFrequencyData(d),r.fillStyle="#000",r.fillRect(0,0,f,u);for(var t=0;t<c;t++){var n=(l=d[t])+t/c*25,i=t/c*250;r.fillStyle="rgb("+n+","+i+",50)",r.fillRect(g,u-l,y,l),g+=y+1}}()}}};