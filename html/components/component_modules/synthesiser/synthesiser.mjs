let object={};export default async e=>new Promise((t,o)=>{function c(){console.log("~~~~speechSynthesis~~~~",object.synth.getVoices()),object.voices=object.synth.getVoices().sort(function(e,t){return object.aname=e.name.toUpperCase(),object.bname=t.name.toUpperCase(),object.aname<object.bname?-1:object.aname==object.bname?0:1}),object.selectedIndex=object.voiceSelect.selectedIndex<0?0:object.voiceSelect.selectedIndex,object.voiceSelect.innerHTML="";for(let e=0;e<object.voices.length;e++)object.option=document.createElement("option"),object.option.textContent=object.voices[e].name+" ("+object.voices[e].lang+")",object.voices[e].default&&(object.option.textContent+=" -- DEFAULT"),object.option.setAttribute("data-lang",object.voices[e].lang),object.option.setAttribute("data-name",object.voices[e].name),object.voiceSelect.appendChild(object.option);object.voiceSelect.selectedIndex=object.selectedIndex}function n(){if(object.synth.speaking)console.error("speechSynthesis.speaking");else if(""!==object.inputTxt.value){object.utterThis=new SpeechSynthesisUtterance(object.inputTxt.value),object.utterThis.onend=function(e){console.log("SpeechSynthesisUtterance.onend")},object.utterThis.onerror=function(e){console.error("SpeechSynthesisUtterance.onerror")},object.selectedOption=object.voiceSelect.selectedOptions[0].getAttribute("data-name");for(let e=0;e<object.voices.length;e++)if(object.voices[e].name===object.selectedOption){object.utterThis.voice=object.voices[e];break}object.utterThis.pitch=object.pitch.value,object.utterThis.rate=object.rate.value,object.synth.speak(object.utterThis)}}object.synth=window.speechSynthesis,object.inputForm=e.this.shadowRoot.querySelector("form"),object.inputTxt=e.this.shadowRoot.querySelector(".txt"),object.voiceSelect=e.this.shadowRoot.querySelector("select"),object.pitch=e.this.shadowRoot.querySelector("#pitch"),object.pitchValue=e.this.shadowRoot.querySelector(".pitch-value"),object.rate=e.this.shadowRoot.querySelector("#rate"),object.rateValue=e.this.shadowRoot.querySelector(".rate-value"),object.selectedOption={},object.option={},object.utterThis={},object.aname={},object.bname={},object.voices=[],object.selectedIndex={},c(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=c),object.inputForm.onsubmit=function(e){e.preventDefault(),n(),object.inputTxt.blur()},object.pitch.onchange=function(){object.pitchValue.textContent=object.pitch.value},object.rate.onchange=function(){object.rateValue.textContent=object.rate.value},object.voiceSelect.onchange=function(){n()},object.class=class{constructor(e){}self(){return object}},t(object)});