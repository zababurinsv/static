import utils from"/static/html/components/component_modules/utils/utils.mjs";function msConversion(e){let t=Math.floor(e/1e3),n=Math.floor(t/3600);t-=3600*n;let a=Math.floor(t/60);return t=("00"+(t=""+(t-=60*a))).substring(t.length),n>0?n+":"+(a=("00"+(a=a<10?"0"+a:""+a)).substring(a.length))+":"+t:"00:"+(a=a<10?"0"+a:""+a)+":"+t}export default async(e,t,...n)=>new Promise(async function(a,s){let c=e=>{a(e)},i=e=>{console.log("~~~ err router ~~~",e),s(e)};switch(t){case"create":(async(e,t,n,a)=>{try{console.log(`${e.input}[(request)${e[t]}]`);let a=[];switch(e[t]){case"news":let s=await utils({input:"varan-menu",data:e.data.content,type:"string2html"},"convert","type"),l=await utils({input:"varan-menu",data:e.data["content:encoded"],type:"string2html"},"convert","type"),x=`\x3c!--\n        --\x3e<details class="item item_${Date.parse(e.data.isoDate)}">\x3c!--\n        --\x3e<div class="timestamp" style="display: none">${Date.parse(e.data.isoDate)}</div>\x3c!--\n                --\x3e<summary class="item_content">\x3c!--\n                            --\x3e<section  class="news">\x3c!--\n                                    --\x3e<div class="hexagon">\x3c!--\n                                        --\x3e<img class="gallery" src="${e.data.enclosure.url}" alt ="photo"/>\x3c!--\n                                    --\x3e</div>\x3c!--\n                                    --\x3e<div class="information">\x3c!--\n                                        --\x3e<h2 class="title">\x3c!--\n                                           --\x3e${e.data.title}\x3c!--\n                                        --\x3e</h2>\x3c!--\n                                        --\x3e<h3 class="date">${e.data.isoDate}</h3>\x3c!--\n                                        --\x3e<div class="short-content">\x3c!--\n                                            --\x3e<details class="content">\x3c!--\n                                                --\x3e<summary class="preview">\x3c!--\n                                                        --\x3e${s}\x3c!--\n                                                --\x3e</summary>\x3c!--\n                                                --\x3e<div class="contentOut">\x3c!--\n                                                --\x3e${l}\x3c!--\n                                                --\x3e</div>\x3c!--\n                                            --\x3e</details>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                    --\x3e</div>\x3c!--\n                            --\x3e</section>\x3c!--\n                --\x3e</summary>\x3c!--\n                --\x3e<div class="menu">\x3c!--\n                    --\x3e<button class="delete"> удалить </button>\x3c!--\n                    --\x3e<button class="change"> изменить </button>\x3c!--\n                --\x3e</div>\x3c!--\n            --\x3e</details>`;c(x);break;case"template":for(let t=0;t<e.data.length;t++){let n=await utils({input:"varan-menu",data:e.data[t].content,type:"string2html"},"convert","type"),s=await utils({input:"varan-menu",data:e.data[t]["content:encoded"],type:"string2html"},"convert","type"),c=`\x3c!--\n        --\x3e<details class="item item_${t}">\x3c!--\n        --\x3e<div class="timestamp" style="display: none">${Date.parse(e.data[t].isoDate)}</div>\x3c!--\n                --\x3e<summary class="item_content">\x3c!--\n                            --\x3e<section  class="news">\x3c!--\n                                    --\x3e<div class="hexagon">\x3c!--\n                                        --\x3e<img class="gallery" src="${e.data[t].enclosure.url}" alt ="photo"/>\x3c!--\n                                    --\x3e</div>\x3c!--\n                                    --\x3e<div class="information">\x3c!--\n                                        --\x3e<h2 class="title">\x3c!--\n                                           --\x3e${e.data[t].title}\x3c!--\n                                        --\x3e</h2>\x3c!--\n                                        --\x3e<h3 class="date">${e.data[t].isoDate}</h3>\x3c!--\n                                        --\x3e<div class="short-content">\x3c!--\n                                            --\x3e<details class="content">\x3c!--\n                                                --\x3e<summary class="preview">\x3c!--\n                                                        --\x3e${n}\x3c!--\n                                                --\x3e</summary>\x3c!--\n                                                --\x3e<div class="contentOut">\x3c!--\n                                                --\x3e${s}\x3c!--\n                                                --\x3e</div>\x3c!--\n                                            --\x3e</details>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                    --\x3e</div>\x3c!--\n                            --\x3e</section>\x3c!--\n                --\x3e</summary>\x3c!--\n                --\x3e<div class="menu">\x3c!--\n                    --\x3e<button class="delete"> удалить </button>\x3c!--\n                    --\x3e<button class="change"> изменить </button>\x3c!--\n                --\x3e</div>\x3c!--\n            --\x3e</details>`;a.push(c)}c(a);break;case"about":let d=await utils({input:"template",data:e.data,type:"string2html"},"convert","type");c(`<div class = "content">${d}</div>`);break;case"templateJson":for(let t=0;t<e.data.length;t++){let n=await utils({input:"varan-menu",data:e.data[t].summary,type:"string2html"},"convert","type"),s=await utils({input:"varan-menu",data:e.data[t].content_html,type:"string2html"},"convert","type"),c=`\x3c!--\n        --\x3e<details class="item item_${t}">\x3c!--\n                --\x3e<div class="timestamp" style="display: none"></div>\x3c!--\n                --\x3e<summary class="item_content">\x3c!--\n                            --\x3e<section  class="news">\x3c!--\n                                    --\x3e<div class="hexagon">\x3c!--\n                                        --\x3e<img class="gallery" src="${e.data[t].image}" alt ="photo"/>\x3c!--\n                                    --\x3e</div>\x3c!--\n                                    --\x3e<div class="information">\x3c!--\n                                        --\x3e<h2 class="title">\x3c!--\n                                           --\x3e${e.data[t].title}\x3c!--\n                                        --\x3e</h2>\x3c!--\n                                        --\x3e<h3 class="date">${e.data[t].date.all}</h3>\x3c!--\n                                        --\x3e<div class="short-content">\x3c!--\n                                            --\x3e<details class="content">\x3c!--\n                                                --\x3e<summary class="preview">\x3c!--\n                                                        --\x3e${n}\x3c!--\n                                              --\x3e</summary>\x3c!--\n                                                --\x3e<div class="contentOut">\x3c!--\n                                                --\x3e${s}\x3c!--\n                                                --\x3e</div>\x3c!--\n                                            --\x3e</details>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                    --\x3e</div>\x3c!--\n                            --\x3e</section>\x3c!--\n                --\x3e</summary>\x3c!--\n                --\x3e<div class="menu">\x3c!--\n                    --\x3e<button class="delete"> удалить </button>\x3c!--\n                    --\x3e<button class="change"> изменить </button>\x3c!--\n                --\x3e</div>\x3c!--\n            --\x3e</details>`;a.push(c)}c(a);break;case"moderator":let o=[],m={};for(let t=0;t<e.data.length;t++){let a=await utils({input:"template",data:e.data[t].content,type:"string2html"},"convert","type"),s=await utils({input:"template",data:e.data[t].description,type:"string2html"},"convert","type");m=void 0===n?!1===e.data[t].positionImg||"false"===e.data[t].positionImg?`\x3c!--\n\n\n                             --\x3e<details class="adminMenu item_${t}" >\x3c!--\n                                --\x3e<div class="timestamp" style="display: none">${e.data[t].timestamp}</div>\x3c!--\n                                                      --\x3e<summary class="adminContent">\x3c!--\n                                                      --\x3e<div class ="item">\x3c!--\n                                                      --\x3e<div class="news">\x3c!--\n                                                      --\x3e<h2>\x3c!--\n                                                         --\x3e${e.data[t].title}\x3c!--\n                                                  --\x3e</h2><div class="short-content"><details><summary class="preview">${s}</summary><div class="content">${a}</div>\x3c!--\n                                          --\x3e</details>\x3c!--\n                                                  --\x3e</div>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                              --\x3e<div class="hexagon">\x3c!--\n                                                   --\x3e<img  class="moderator" src="${e.data[t].img}" alt="moderator">\x3c!--\n                                              --\x3e</div>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                                      --\x3e</summary>\x3c!--\n                                          --\x3e<div class="menu">\x3c!--\n                                                      --\x3e<button class="delete"> удалить </button>\x3c!--\n                                                      --\x3e<button class="change"> изменить </button>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                  --\x3e</details>\x3c!--\n                                    \n                                    `:`\x3c!--                  \n                                                    --\x3e<details class="adminMenu item_${t}" >\x3c!--\n                                                       --\x3e<div class="timestamp" style="display: none">${e.data[t].timestamp}</div>\x3c!--\n                                                    --\x3e<summary class="adminContent">\x3c!--\n                                                    --\x3e<div class ="item">\x3c!--\n                                                          --\x3e<div class="hexagon">\x3c!--\n                                                                         --\x3e<img  class="moderator" src="${e.data[t].img}" alt="moderator">\x3c!--\n                                                         --\x3e</div>\x3c!--\n                                                    --\x3e<div class="news">\x3c!--\n                                                    --\x3e<h2>\x3c!--\n                                                       --\x3e${e.data[t].title}\x3c!--\n                                                --\x3e</h2><div class="short-content"><details><summary class="preview">${s}</summary><div class="content">${a}</div>\x3c!--\n                                        --\x3e</details>\x3c!--\n                                                --\x3e</div>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                                    --\x3e</summary>\x3c!--\n                                        --\x3e<div class="menu">\x3c!--\n                                                    --\x3e<button class="delete"> удалить </button>\x3c!--\n                                                    --\x3e<button class="change"> изменить </button>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                --\x3e</details> \x3c!--`:!1===e.data[t].positionImg||"false"===e.data[t].positionImg?`\x3c!--\n\n\n                             --\x3e<details class="adminMenu item_${n}" >\x3c!--\n                                --\x3e<div class="timestamp" style="display: none">${e.data[t].timestamp}</div>\x3c!--\n                                                      --\x3e<summary class="adminContent">\x3c!--\n                                                      --\x3e<div class ="item">\x3c!--\n                                                      --\x3e<div class="news">\x3c!--\n                                                      --\x3e<h2>\x3c!--\n                                                         --\x3e${e.data[t].title}\x3c!--\n                                                  --\x3e</h2>\x3c!--\n                                                  --\x3e<div class="short-content"><details><summary class="preview">${s}</summary><div class="content">${a}</div>\x3c!--\n                                          --\x3e</details>\x3c!--\n                                                  --\x3e</div>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                              --\x3e<div class="hexagon">\x3c!--\n                                                   --\x3e<img  class="moderator" src="${e.data[t].img}" alt="moderator">\x3c!--\n                                              --\x3e</div>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                                      --\x3e</summary>\x3c!--\n                                          --\x3e<div class="menu">\x3c!--\n                                                      --\x3e<button class="delete"> удалить </button>\x3c!--\n                                                      --\x3e<button class="change"> изменить </button>\x3c!--\n                                          --\x3e</div>\x3c!--\n                                  --\x3e</details>\x3c!--\n                                    \n                                    `:`\x3c!--                  \n                                                    --\x3e<details class="adminMenu item_${n}" >\x3c!--\n                                                       --\x3e<div class="timestamp" style="display: none">${e.data[t].timestamp}</div>\x3c!--\n                                                    --\x3e<summary class="adminContent">\x3c!--\n                                                    --\x3e<div class ="item">\x3c!--\n                                                          --\x3e<div class="hexagon">\x3c!--\n                                                                         --\x3e<img  class="moderator" src="${e.data[t].img}" alt="moderator">\x3c!--\n                                                         --\x3e</div>\x3c!--\n                                                    --\x3e<div class="news">\x3c!--\n                                                    --\x3e<h2>\x3c!--\n                                                       --\x3e${e.data[t].title}\x3c!--\n                                                --\x3e</h2>\x3c!--\n                                                --\x3e<div class="short-content">\x3c!--\n                                                    --\x3e<details>\x3c!--\n                                                    --\x3e<summary class="preview">${s}</summary>\x3c!--\n                                                --\x3e<div class="content">${a}</div>\x3c!--\n                                        --\x3e</details>\x3c!--\n                                                --\x3e</div>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                                    --\x3e</summary>\x3c!--\n                                        --\x3e<div class="menu">\x3c!--\n                                                    --\x3e<button class="delete"> удалить </button>\x3c!--\n                                                    --\x3e<button class="change"> изменить </button>\x3c!--\n                                        --\x3e</div>\x3c!--\n                                --\x3e</details> \x3c!--`,o.push(m)}c(o);break;default:i(`необрабатываемый тип запроса ${e[t]}`)}}catch(e){i(e)}})(e,n[0],n[1],n[2],n[3]);break;case"get":(async(e,a,s)=>{try{switch(console.log(`app(${t}[(${e.input})${e[a]}]property)`),e[a]){case"auth":(async(e,t,n)=>{try{c('\n                                            <div class="col-md-8 m-auto">\n                                            <h1 class="display-4 text-center">\n                                            Регистрация\n                                            </h1>\n                                            <p class="lead text-center">\n                                            Создайте свой аккаунт\n                                            </p>\n                                            <form novalidate="">\n                                            <div class="form-group">\n                                            <input type="text" class="form-control form-control-lg" placeholder="Name" name="name" value="">\n                                            </div>\n                                            <div class="form-group">\n                                            <input type="email" class="form-control form-control-lg" placeholder="Email" name="email" value="">\n                                            <small class="form-text text-muted">\n                                            This site uses Gravatar so if you want a profile image, use a Gravatar email\n                                            </small>\n                                            </div>\n                                            <div class="form-group">\n                                            <input type="password" class="form-control form-control-lg" placeholder="Password" name="password" value="">\n                                            </div>\n                                            <div class="form-group">\n                                            <input type="password" class="form-control form-control-lg" placeholder="Confirm Password" name="password2" value="">\n                                            </div>\n                                            <input type="submit" class="btn btn-info btn-block mt-4">\n                                            </form>\n                                            </div>')}catch(e){i(e)}})(0,n[0],n[1],n[2],n[3]);break;case"login":(async(e,t,n)=>{try{c('\n                                             <div class="col-md-8 m-auto">\n                                             <h1 class="display-4 text-center">\n                                             Вход\n                                             </h1>\n                                             <p class="lead text-center">\n                                                Войдите в свой аккаунт\n                                             </p>\n                                             <form>\n                                             <div class="form-group">\n                                             <input type="email" class="form-control form-control-lg" placeholder="Email Address" name="email" value="">\n                                             </div>\n                                             <div class="form-group">\n                                             <input type="password" class="form-control form-control-lg" placeholder="Password" name="password" value="">\n                                             </div>\n                                             <input type="submit" class="btn btn-info btn-block mt-4">\n                                             </form>\n                                             </div>')}catch(e){i(e)}})(0,n[0],n[1],n[2],n[3]);break;case"card":(async(e,t,n)=>{try{await utils({input:"template",data:e.data.content_html,type:"string2html"},"convert","type"),await utils({input:"template",data:e.data.summary,type:"string2html"},"convert","type");let t=msConversion(60*e.data.details.time*1e3),n=`\n             <div class = "item timestamp_${Date.parse(e.data.date_modified)} ">\n                <label class="details">\n                    <div class="content">\n                        <div class = "preview">\n                            <p>\n                                ${e.data.title} \n                            </p>\n                        </div>\n                        <div class="images">\n                            <a class="bid">\n                                <img  class='imgBid' src="${e.data.image}"  alt="bid">\n                            </a>\n                        </div>\n                         <div class="timer">\n                               ${t}\n                        </div>\n                        <div class="price">\n                          Waves: ${e.data.details.price}\n                        </div>\n                        <div class="name">\n                            ~~~~~\n                        </div>\n                        <div class="bid">\n                            bid\n                        </div>\n                    </div>\n                    <input type="checkbox" class="input" />\n                    <div class="summary">\n                    <div class = "button">\n                             <button class="bidButton"> ставка </button>\n                             <button class="sellButton"> старт </button>\n                    </div>\n                    <div class="priceSend">\n                    <div class="info">\n                        <div>Повышение цены: 0.1 Waves</div>\n                        <div>Стоимость ставки: 1 Waves</div>\n                         <div>Перевод: 0.014 Waves</div>\n                    </div>\n                        <div class="priceWinner">\n                            <div>\n                                Сумма оплаты при выигрыше\n                            </div>\n                            <div class="outPrice">\n                                0\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </label>\n            </div>\n                                        `;c(n)}catch(e){i(e)}})(e,n[0],n[1],n[2],n[3]);break;case"cardAdmin":(async(e,t,n)=>{try{await utils({input:"template",data:e.data.content_html,type:"string2html"},"convert","type"),await utils({input:"template",data:e.data.summary,type:"string2html"},"convert","type");let t=`\n             <div class = "item timestamp_${Date.parse(e.data.date_modified)}">\n                <label class="details">\n                    <div class="content">\n                        <div class = "preview">\n                            <p>\n                               ${e.data.title} \n                            </p>\n                        </div>\n                        <div class="images">\n                            <a class="bid">\n                                <img  class='imgBid' src="${e.data.image}" alt="bid">\n                            </a>\n                        </div>\n                        <div class="timer">\n                        ${e.data.details.time}\n                        </div>\n                        <div class="price">\n                        Waves: ${e.data.details.price}\n                        </div>\n                        <div class="name">\n                         ~~~~~\n                        </div>\n                        <div class="bid">\n                            bid\n                        </div>\n                    </div>\n                    <input type="checkbox" class="input" />\n                    <div class="summary">\n                     <div class="button">\n                        <button class="delete"> удалить </button>\n                        <button class="change"> изменить </button>\n                        </div>\n                    </div>\n                </label>\n            </div>\n                                        `;c(t)}catch(e){i(e)}})(e,n[0],n[1],n[2],n[3]);break;case"cardPrice":(async(e,t,n)=>{try{document.createElement("div");c("\n                                            \n                                            \n                                            ")}catch(e){i(e)}})(0,n[0],n[1],n[2],n[3]);break;default:i(`new type [(${t})${e[a]}]`)}}catch(e){i(e)}})(e,n[0],n[1],n[2],n[3]);break;default:i(`новая функция ${t}`)}});