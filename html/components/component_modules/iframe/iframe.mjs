import emoji from"/static/html/components/component_modules/emoji/emoji.mjs";let iframe={staticProperty:{}};iframe.staticProperty.count=-1;export default{set:(t="",o={},e,r)=>{let i=new MessageChannel,n={};n=void 0===r?t:r,iframe.staticProperty[`${n}`]={},iframe.staticProperty[`${n}`].window=o,iframe.staticProperty[`${n}`].port=i,iframe.staticProperty[`${n}`].component=e,iframe.staticProperty[`${n}`].init=!1},get:(t="")=>iframe.staticProperty[`${t}`],getAll:()=>iframe.staticProperty,delete:(t="")=>{delete iframe.staticProperty[`${t}`]},post:(t,o={},e)=>{iframe.staticProperty[`${t}`].init?(o.property=location.origin,iframe.staticProperty[`${t}`].port.port1.onmessage=e,iframe.staticProperty[`${t}`].port.port1.postMessage(o)):(iframe.staticProperty[`${t}`].port.port1.onmessage=e,iframe.staticProperty[`${t}`].init=!0,iframe.staticProperty[`${t}`].window.contentWindow.postMessage(o,iframe.staticProperty[`${t}`].window.src,[iframe.staticProperty[`${t}`].port.port2]))},postWindow:(t,o={},e)=>{let r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),i=t;t=t.indexOf("/login")>=0?t.replace("/login",""):t.replace("/import","");let n={},a={},s={};void 0===iframe.staticProperty[`${t}`]?(a=(n=new MessageChannel).port1,s=n.port2,iframe.staticProperty[`${t}`]={},iframe.staticProperty[`${t}`]["open-window"]={},iframe.staticProperty[`${t}`]["open-window"].port1=a,iframe.staticProperty[`${t}`]["open-window"].port1.onmessage=e,window.addEventListener("message",async t=>{location.origin!==t.origin&&"init"===t.data&&(o.window=!0,t.source.postMessage(o,t.origin,[s]))}),iframe.staticProperty[`${t}`]["open-window"].window=window.open(`${i}`,"init",`height=${r/3},width=${r/1.5},scroll=no,titlebar=no,help=no;toolbar=no,menubar=no,status=no,resizable=no,scrollbars=no,location=no,top=${r/2-r/1.5/2},left=${r/2-r/1.8/2}`)):void 0===iframe.staticProperty[`${t}`]["open-window"]?(a=(n=new MessageChannel).port1,s=n.port2,iframe.staticProperty[`${t}`]["open-window"]={},iframe.staticProperty[`${t}`]["open-window"].port1=a,iframe.staticProperty[`${t}`]["open-window"].port1.onmessage=e,window.addEventListener("message",async t=>{location.origin!==t.origin&&"init"===t.data&&(o.window=!0,t.source.postMessage(o,t.origin,[s]))}),iframe.staticProperty[`${t}`]["open-window"].window=window.open(`${t}/import`,"init",`height=${r/3},width=${r/1.5},scrollbars=no,toolbar=no,menubar=no,status=no,resizable=no,menubar=no,scrollbars=no,location=no,top=${r/2-r/1.5/2},left=${r/2-r/1.8/2}`)):(o.property=location.origin,o.window=!0,iframe.staticProperty[`${t}`]["open-window"].port1.onmessage=e,iframe.staticProperty[`${t}`]["open-window"].port1.postMessage(o))},count:()=>{iframe.staticProperty.count++},resetCount:()=>{iframe.staticProperty.count=-1},getCount:()=>iframe.staticProperty.count,setPort2:(t,o,e,r)=>{void 0===iframe.staticProperty[`${t}`]&&(iframe.staticProperty[`${t}`]={}),!0===r?(void 0===iframe.staticProperty[`${t}`]["open-window"]&&(iframe.staticProperty[`${t}`]["open-window"]={}),iframe.staticProperty[`${t}`]["open-window"].port2=o,iframe.staticProperty[`${t}`]["open-window"].port2.onmessage=e):(iframe.staticProperty[`${t}`].port2=o,iframe.staticProperty[`${t}`].port2.onmessage=e)},getPort2:(t,o)=>!0===o?iframe.staticProperty[`${t}`]["open-window"].port2:iframe.staticProperty[`${t}`].port2,closeWindow:t=>{iframe.staticProperty[`${t}`]["open-window"].window.close()}};