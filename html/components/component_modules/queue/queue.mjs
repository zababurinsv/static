import isEmpty from"/static/html/components/component_modules/isEmpty/isEmpty_t.mjs";import description from"/static/html/components/component_modules/description/description.mjs";import colorlog from"/static/html/components/component_modules/colorLog/colorLog.mjs";import actions from"/static/html/components/component_modules/action/actions-monopoly.mjs";let object={staticProperty:[]},output={};object.setEventsAction=(async(t,e,o,n,r)=>new Promise(async function(s,c){switch(r){case"button":case"player":s(await actions(t,e,o,n,r));break;default:console.warn("нет акшена на это отношение ---\x3e",r,"---\x3e",t,e,o,n,r),s({warning:"нет акшена на это отношение"})}}));let handler={get:(t,e)=>t[e],set:(t,e,o)=>{switch(t[e]=o,e){case"length":if(1===t.length){let e=setTimeout(async function o(){0===t.length?(console.log("~~~~~~~~~~~ End ~~~~~~~~~~~"),clearTimeout(e)):(t[0].end?(await object.setEventsAction(t[0].console,{end:!0,property:t[0].property},t[0].color,t[0].substrate,t[0].relation),colorlog(t[0].console,{end:!0,property:t[0].property},t[0].color,t[0].substrate,t[0].relation),delete t[0].substrate.queue,document.dispatchEvent(new CustomEvent("typeScript-end",{detail:{_:t[0].substrate._,console:t[0].console,property:t[0].property,color:t[0].color,substrate:t[0].substrate,relation:t[0].relation}}))):(await object.setEventsAction(t[0].console,t[0].property,t[0].color,t[0].substrate,t[0].relation),colorlog(t[0].console,t[0].property,t[0].color,t[0].substrate,t[0].relation)),t.shift(),e=setTimeout(o,10))},0)}}return!0}};export default(t,e="default",o="default",...n)=>new Promise(async(r,s)=>{try{"string"==typeof n[n.length-1]?"~end"===e?(delete object.staticProperty[`${n[n.length-1]}`],output={_:`${n[n.length-1]}`,destruct:!0,queue:object.staticProperty}):(isEmpty(object.staticProperty[`${n[n.length-1]}`])&&(object.staticProperty[`${n[n.length-1]}`]=[],object.staticProperty[`${n[n.length-1]}`].task=[],object.staticProperty[`${n[n.length-1]}`].task=new Proxy(object.staticProperty[`${n[n.length-1]}`].task,handler)),n.unshift(object.staticProperty[`${n[n.length-1]}`]),output=description(t,"%c%O"+n[n.length-1],"color:"+o,"[(",n.slice(0,n.length-1),"*)",e,"]")):console.assert(!1,"не выбранно отношение"),function(t){r(t)}(output)}catch(t){!function(t){s(t)}({_:"object",error:t})}});