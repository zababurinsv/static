class varanTimer extends HTMLElement{constructor(){super(),this.baseTime=null,this.offset=null,this.timerId=null}connectedCallback(){const t=document.currentScript.ownerDocument.querySelector("#stopwatch-element-template").content.cloneNode(!0);let e=this.attachShadow({mode:"open"});e.appendChild(t),this.content=e.querySelector("#content"),this.showTime(0),this.btnStartStop=e.querySelector("#btnStartStop"),this.btnStartStop.addEventListener("click",this.onStartStop.bind(this)),e.querySelector("#btnReset").addEventListener("click",this.onReset.bind(this))}onStartStop(){if(this.timerId){clearInterval(this.timerId);let t=Date.now()-this.baseTime;this.offset+=t,this.timerId=null,this.btnStartStop.textContent="start"}else this.btnStartStop.textContent="stop",this.baseTime=Date.now(),this.timerId=setInterval(()=>{let t=this.offset+Date.now()-this.baseTime;this.showTime(t)},10)}onReset(){clearInterval(this.timerId),this.showTime(0),this.timerId=null,this.baseTime=null,this.offset=null}showTime(t){let e=(t,e)=>("000"+Math.floor(t)).slice(-e),n=e(t/36e5,2),s=e((t%=36e5)/6e4,2),i=e((t%=6e4)/1e3,2),o=e(t%=1e3,3);this.content.textContent=`${n}:${s}:${i}.${o}`}}customElements.define("varan-timer",varanTimer);